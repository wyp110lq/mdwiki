## DevOps 时代的文档

## 资料

[docs as code](http://www.writethedocs.org/guide/docs-as-code/)
[continuous documentation](https://devops.com/continuous-documentation/)

## 软件产品研发过程中的文档
在软件开发过程中可以分为以下几类文档：
- OA 类办公产生的文档，市场、营销、运营方面非技术部门的文档
- 合规类文档，比如投标类、合同中规定需交付的各种文档
- 产品/项目需求类文档，需求说明规格书、市场需求文档 MRD 、产品需求文档PRD
- 技术性文档，包括概要设计、架构设计、接口说明、开发规范、基础组件使用说明文档等，开发过程后期的部署文档、操作手册
- 其他开发过程中产生的文档

传统瀑布开发模式中，文档满天飞，自然无须多说。最最关键的问题是文档无人愿意长期维护，我们分析总结后原因大致如下：
- 进度压力，连代码质量都无法保证，谁有时间去写文档
- 缺乏驱动力，传统的开发模式以计划和文档驱动整个开发过程，写文档本身是无法产生业务价值的，据统计很少人会去看，会有理解上的差异，不如面对面交流更有效果。即使企业约束文档工作为正常工作，也无法保证文档质量，对文档工作的考核本身也是不太恰当的KPI指标
- 写文档本身缺乏价值支撑，很多时候是因为流程、命令-控制领导的领导风格导致，技术人员对文档反感，正确的思路应该是代码即文档，这也是质量文化的一部分。
- 文档维护效率低下，内容脱离实际，很难做到通过多人协作的方式维护文档
- 很难跟踪改变，与文本文件不同，普通（办公文档）格式复杂，无法像代码一样跟踪变化

在重流程的企业,采用传统的开发方式，以文档的方式驱动开发过程，势必影响效率和创新能力。当今已经进入移动办公的云时代，在线多人协作是无法避免的的工作场景，甚至会越来越重要。对应的解决方法是采用在线协作方案，如：
- 微软的 Office365+OneDrive。
这种方式对于OA公办类的文档，或是需与外部环境交互的文档可以采用此种方案。还可以跟踪文档版本。
- 谷歌Docs
- 其他 SaaS 类在线文档服务 
可在线编辑（协作）文档，并可以发表评论。最近一两年，SAAS类的在线软件服务越趋于轻量化，讲究用户体验，不仅仅是文档协作，在其他精细化协作场景下都於生出了一些应用

总之，一切朝着轻量化、协作化方式发展，讲究快速迭代，团队高效运转。

如今科技企业越来越重视敏捷精益思想，研发过程也转变成了 **小步快跑+快速交付+快速验证** 模式。对文档的态度也发生了转变，我们在写文档首先要考虑的是：
- 这份文档谁要求写的？
- 是写给谁看的？
- 为什么要写这份文档？要达成什么目标？
- 不写可不可以（至少是现在）？
- 写了谁维护？
- 能给团队带来什么？能给各层面的干系人带来什么？

在敏捷宣言中一条原则：
**可工作的软件 胜过面面俱到的文档 **。

文档的重要性已经被弱化，但并不是不需要写文档。从一个团队或组织长远发展来说，技术积累和业务积累是一项核心竞争力。
- 技术积累如果只是积累在代码里面，那将是恶梦
内建质量文化，也是敏捷软件开发中的一个原则，这与一个团队或组织的领导力和领导风格有关，特别是技术出身的领导，会更重视这一原则。对于技术积累最直接的输出方式就是 **团队内部知识库**，知识库的规范性又与质量文化紧密相连，试想：一个团队的代码像一团浆糊，谁还会有心情去写文档？而这文档又体现多深的架构思想和技术价值呢？
- 业务积累如果只积累在特定的头脑中，先不讨论单点瓶颈和不确定因素，更为重要的是，我们的业务知识如何传承？一旦单点瓶颈出现时，混乱很有可能会接踵而至。各种版本的文档，疏于维护，牛头不对马嘴，与实际情况相关万里，失去了其价值。。。。。

因此这两项积累应该被提升至战略层面，需有意识的融入到组织或团队的规划和执行中,并加入持续反馈环中。而通常的实践方式建立内部知识库.

结合上文所说的文档种类，我们自底向上，从技术角度看，我们有哪些文档可以自己决定如何去写：

- 技术性文档，包括概要设计、架构设计、接口说明、开发规范、基础组件使用说明文档等，开发过程后期的部署文档、操作手册
- 团队内部知识库文档
- 其他交付性质的文档，一般都是从技术性文档转换过去的，
- 产品相关文档：无法直接要求产品人员，可以在技术团队内部试着写，通过结果所带来的便利来影响其他团队，通过实践去影响其他人

## 文档应该以什么样的方式来写？

- Github上很多开源项目，都是通过什么方式来写文档的？
其实，Github上的文档都是采用Markdown格式编写

对于上面的文档，我想最为有效的方式就是以在线文档的形式（Wiki）展现，对于编辑给予一定程度的开放，并采用所见即所得的方式编辑，但仅限于小修改。文档编写工作主要还是通过写代码的方式，以文本文件保存，通过源码代码管理工具管理（如git）,文本文件提交到git服务器之后，自动更新线上文档，分享、协作、追踪变得很简单。

**传统的Wiki方式**

**更现代化的方式**
