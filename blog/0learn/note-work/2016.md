# 工作笔记、备忘，包括技术、管理等
## temp
- 允许团队成员在变革中放错，放错后不要指责，及时了解放错的根本原因，慢慢引导
- 经常站在成员的角度考虑问题，当发生冲突时，第一时间说：我能理解你的心情和情况
- 代码集体所有制，整个团队都可以重构、修正代码
- 备胎原则，一个项目当避免一人独大、无法替代的情况，一般通过信息分享、渗透沟通、结对编程等方式实现。想象一下团队中有人被车撞了但无人可替代的结果，对团队对企业都是非常不利的。即 项目不是跟着人走而无人能维护。
- 对项目承担责任的人、直接参与项目的人员才有权得决策，其他人只是提供建议，但不可以独自决策而不征求团队意见，征求意见时要充分考虑团队不会因为领导的压力而放弃决策、不敢决策
- 敏捷中信任和沟通很重要。信任来自几次成功的案例，专业的沟通是过程，对承诺的兑现是结果，过程和结果促成了信任
- 用户故事，最细粒度用户故事的本质是对某个功能可能存在的某个用户操作场景的一种描述，包括三部分：why、who、what.
    Why：
    - 用户的目的，带来的价值
    - 给公司带来直接或者间接的经济效益，也有可能减小公司的成本，例如降低风险等
    - 能学到的知识
    Who：问题的提出者
    What：为了达成Why，所需要完成的业务活动或任务，方便理解如果涉及到线下操作，也可以补全

## 技术资料
 - [大众点评订单系统分库分表实践](http://tech.meituan.com/dianping_order_db_sharding.html)	

## 看板讨论

### 看板介绍
 - 什么是看板？
 - 来源于日本，卡片、交通牌、广告牌，信息板、信息指示板
 - 看板英文名：kanban？,Kanban？,KanBan？是不是和中文 看板 的拼音很像？KanBan Board	为什么？
 - KanBan Board翻译过来叫什么？
 - 中国语言博大精深，业界通用的叫法是 看板，其实指的是 看板系统（本质是信号量，下游传递给上游的信号量）
 - 看板系统有什么作用？
   - 把工作内容可视化，识别瓶颈、消除浪费，通过团队协作的方式找到解决办法

### 我们为什么要用看板，目标
 - 我们的问题是什么？
 - 项目缺乏前期工作、流程不太规范、人员职责不太明确，总体缺乏规划、前瞻性
 - 第一阶段先固化流程、规范。
 - 经过今年前面那段时间的探索、试用，决定使用Leangoo，做为迈出的第一步
 - Leangoo只是一个工具，工具是给人来用的，目的不是为了使用工具，而是通过使用Leangoo工具本身，探索出适合于我们团队的项目管理方式和开发方式，最终是为了固化流程、规范，形成标准。但探索脚步是不会停止的，在合适的阶段需改变探索的目标。
 - Leangoo工具既然有优点(相对于没有采用之前)，也有缺点。在第一阶段试用，达成了目标之后，工具本身已经不重要了，甚至实际情况更换工具都是可以的。
 - 最坏的情况：把Leangoo做为一个BUG管理工具
 
### 看板系统详细介绍【PPT P56】
 - 来源于制造业，丰田生产方式，起源于日本丰田
 - 前提是即时生产（JIT）,而不是大规模生产、备货方式
 - 一个迭代看板分成了哪几部分？
 - 画一张流动的图（讲解此图），信息流（传递通道要通畅）&&价值流形成闭环，下游（客户）给出信号拉动整个过程，通过监控整个过程来识别瓶颈、发现浪费
 - 每个人的目标都一样，就是为了保证这个闭环能够形成良性循环，这也是我们每个人思考的角度
 - 需求管理：
   - 减少批量的规模：新手蒸包子的例子-一次蒸几个？平衡，效率VS响应力
   - 遵循在制品约束：吃饭的例子-要吃得100%饱吗？
   - 控制流程的节凑：像水管中的水一样。可预测性（生产率和成本）使不可控变得可控，持续优化流程，使预测更符合实际.合规性与控索性的最优化比例
   - 快速反馈：快速交付、防止失控，隐藏的问题随时间的增长修复的成本会逐渐增加
 - 辅助图表:迭代（故事/需求）看板、任务看板、燃尽图

 - 来源：看板方法->看板系统->丰田生产方式->精益制造->精益思想
 
 
### 我们怎么使用看板
 - 我们已经在使用了，有什么问题没或者建议？
 - [把一切都记录到，这个看板中来](https://www.leangoo.com/kanban/board/go/1279304)
 - 看板方法实施建议：
	1. 可视化工作(价值)流--先让工作内容通过看板图可视化[特性/故事、需求/任务 看板图]
	2. 显式化定义流程规--预先定义好转化到各阶段的规则和条件[完成的标准，各卡片之间的边界，团队角色及职责]
	3. 限制在制品的数量--根据团队的生产率固定看板图中处于各阶段的工件数量[容量]
	4. 度量和管理流动--根据定义好的流程规则和WIP来监督管理发现问题[通过燃尽图、累积流图(斜率)分析]
	5. 建立反馈环
	6. 协同改进--通过前面四项来发现问题和瓶颈，最后用科学的方法和模型，通过团队协作方式来持续改进

 - 我们要做哪些准备？：
   - 角色、岗位职责，如何分工协作(未完成)
     - 开发人员：接收到工作后，细化解决方案，评估工时，确定截止日期，工作过程中的变化、协作过程通过评论的形式记录。根据完成情况拖动卡片【演示】
	 - 测试人员：开发-完成 一栏中的任务拖至下右边一栏，有任何反馈或BUG可以通过评论的形式体现，未通过时拖至上一环节，
     - 项目Leader：根据模板添加项目看板，把要做做需求、功能列表录入到看板中
     - 领导：？
   - [对完成的定义，开发人员完成就算完成？还是测试通过才算完成？--业界通用做法是？](http://blog.csdn.net/zhangmike/article/details/39801119)
   - 看板模板定义(已经定义了部分，还需根据使用情况持续完善)
   - LeanGoo使用介绍 
   - 用起来

- 与客户衔接的看板图
  - [智检-客户反馈问题-模板（已经定义模板）](https://www.leangoo.com/kanban/board/go/1279309)
  - [新项目发布计划看板(即产品待办，暂未定义模板，可参考自带模板)](https://www.leangoo.com/kanban/board/go/1279297)
    
- 团队内部开发看板图
  - [新项目&智检新版本-开发-模板（已经定义模板）](https://www.leangoo.com/kanban/board/go/1279682)
  - [内部所有项目汇总看板图（未定义模板，请领导们提供参考建议）]
 
- 其他看板图
  - [纯BUG、缺陷管理看板（未定义模板，自带的模板）](https://www.leangoo.com/kanban/board/go/1279300)
  - 还有哪些需要统一定义？大家一起讨论
  
### LeanGoo使用
  - 我添加的项目、看板如何邀请同事进来？--通过导入用户Excel好友
  - 根据模板新建看板，如果不是智检平台则要先建立项目，建好项目后在把好友导入到整个项目中 【成员、权限管理】
  - 客户反馈过来的怎问题、需求 应该怎么处理？
  - 开发过程中需求、BUG如何管理？
  - 如何跟踪进度？燃尽图和任务分布图
  - 通过Leangoo看板团队如何协作？
  - 项目负责人：新建项目发布计划看板、迭代1看板，设置看板的周期。对看板负责，具有规范化意识
  - 看板任务标签：优先级（红色最高）、卡片类型（BUG类黄色、需求类绿色）、暂缓（灰色）
  - 模拟：看板的每一天
	
	
	
## 如何召开富有成效的每日立会 20160724 其他参考资料：[如何更好地进行每日立会？](http://www.infoq.com/cn/news/2010/02/daily-standup/) [Scrum 每日立会，应该做些什么？](http://blog.163.com/coolboy_cl/blog/static/12781894201211545441780/)
### 每日立会介绍：每日立会 英文叫 Daily Stand up meeting、Daily Scrum, 国内也称为晨会。
每日立会来源于Scrum,叫【立会】而不是例会是有含义的,因为这个会议一般是早上开（早上开最有效），为了避免陷入会议的死循环时间很短，在Scrum的每日时间箱里面是【不超过15分钟】，越快越好。正因为这个会议有时间限制，所以为保证会议高效，Scrum建议站着开会，设想一下 如果坐着开会，有的同学在未轮到自己发言时听别人说会觉得无聊，有可能会拿手机出来玩，也有可能开小差，当专注度不够时会议的参与度自然会下降，久而久之会影响整个会议的效果。但是当站起来开会时，人潜意识会想坐、会想着快点开玩会议，此时SM加以引导对提高会议效率将会有显著效果。所以【站】是这样来的，不必感到奇怪，因为这个会议确实是经验，实践后总结出来的。最后补充一点，假设已经站着开会了，但由于会议室内的桌椅什么的无形中会将人的与人之交流障碍，整个团队有可能是一字排开，位置也有可能是杂乱的，而且当有人发言时，不能保证所有人都能听见，为保证较高的参与度，【建议围成一圈】，这样每个人都是面对面交流，沟通会比较高效。

### 每日立会的目的：
- 【对每日计划的一种督促】，养成良好的习惯，做事需要有计划性，当工作内容多时特别有效，必须列出重点的，优先要做的事情，如果记录到个人待办事项中，更不容易忘记
- 【同步任务状态】，在白板上更新每天工作的完成情况，绘制燃尽图，尽可能的朝着然尽图预测的完成路线走，当发现斜率不正常时及时认识造成的原因；
- 【信息共享】，包括需求和技术上的分享，这样可以发现可复用的业务功能（系统分析和设计时是粗犷式的识别），也可以发现技术点有可能被其他成员已经实现过，通过陈述所做的任务（如设计上的）完善设计、共享设计，总之将工作透明化，便于各种积累，培养备胎
- 【识别问题和障碍】，即识别每天工作中的风险，会后制定解决办法或者缓解措施
- 每日立会如通过何种形式达成以上三个目的？答日：回答【三个问题】：****昨天做了什么？今天准备做什么？有什么障碍（昨天的和今天的）？。****对于新的团队还可以加上第四个问题：对于团队完成迭代目标，如果以1~10来度量，你的信心有多少（最高为10）（来自Scrum实践18章）？

### 每日立会关注：
- 每日立会每个人所说的内容都应首先考虑对迭代目标要有意义，避免 码代码、改BUG这种陈述；
- 说出来的内容应该是对团队有价值的
- 关注目标——与资深团队成员分享信息，他们会帮助整个团队在迭代中完成工作。
- 关注团队——与所有人分享信息，而不是只告诉管理人员。在其他时候讨论——不要在立会中解决问题，可以安排后续时间解决，而且允许感兴趣的人参与。有准备而来——要是不想拉长立会时间，团块成员需要知道你的工作成果和待完成任务。
- 关注成果——Joakim发现：“相比告诉别人自己正在完成系统的哪个部分，讨论成果能够提供更为积极的态度。”
- 做出承诺——他让人们向其他团队成员承诺自己要完成的工作，而不仅仅是机械地说接下来的24小时要做些什么。
- 指出障碍——你是不是要接触60多份文件才能完成某些细小的变更？

### 每日立会里面的不：
- 不是为了报告进度
- 不是为了问责
- 不应该迟到
- 不应该坐下
- 不应该打断别人的陈述
- 不应该花太多时间深入讨论解决方案
- 不应该跑题，大谈特谈
- 不应该忽略问题
- 猪不应该说话，实在要说可在会议最后面说

### 每日立会里面可以这样：
- 站着说话
- 为提高执行力，制定惩罚措施，可以做俯卧撑、为团队经费捐款、几天不许抽烟等
- 每次开会前强调议程：强调站会的目的、强调站会需要回答三个问题
- 可以围成一圈开会
- 当谈论深入时或者超时时，举黄牌或翻转手掌示意暂停
- 记录会后需要继续讨论的项

### 每日立会参与的成员有：
- 猪：开发人员、测试人员、Agile Master，即直接参与开发的团队成员
- 鸡：产品负责人、项目干系人，即间接参与项目的人，不应该影响团队的会议，只听不说。但也不是绝对的，需求的确认、变更可以通过这个过这个会议进行，前提是不能影响团队，不能间接给团队下达指令或者施加压力，有特别的问题可以在会议的最后面讨论.

### 猪和鸡的寓言：[点击查看更多介绍](http://blog.csdn.net/fen0707/article/details/8979942)
- Scrum严格区分这两类人：一种是对承担项目的人赋予了权力，使其完成必要工作，确保项目成功，即【直接参与】的；【无责任人员】则无权对项目施加不必要的干涉。
这两类人在Scrum中被形象地称为“猪”和“鸡”。 “鸡”是旁观者。这起源于一则古老笑话：一只鸡和一头猪在路上走，鸡对猪说：“你想不想和我一起开家餐馆？”猪想了想，答到：“好的，我很乐意。你想为餐馆起个什么名字呢？”鸡回答道：“火腿和蛋！”猪停步，犹豫了一下，说：“三思过后，我决定不和你开这家餐馆了。因为我得全身心付出，而你仅仅是牵涉入内。”在Scrum方法中，上述区分很重要，它关系到Scrum的全面可见性原则。必须时刻区分责任人和出主意的。

在敏捷项目的运作中，Scrum Master需要控制Scrum流程，努力保护团队不受外部干扰。如果项目中的伸手过界的“鸡”太多（项目的高层领导、与项目相关的各种利益攸关的人，等等），则项目将很难走向成功。

## 用户故事地图相关工具和文章：用户故事地图用于制定高层次的发布计划
- [创建用户故事地图(User Story Mapping)的8个步骤](http://www.tuicool.com/articles/vAjieei)
- [用户故事地图(User Story Mapping)之初体验](http://www.cnblogs.com/ups216/p/5120567.html)
- [用户故事地图的应用-百度方法+线上语音课堂](http://mp.weixin.qq.com/s?__biz=MzA5Mzg0OTgwMA==&mid=2654440872&idx=1&sn=8e9111e7a639e38abb8633bf1681ee39&scene=0#wechat_redirect)
- [影响地图和用户故事地图的联系与对比](http://mp.weixin.qq.com/s?__biz=MjM5NjcwMzQ4MQ==&mid=403148704&idx=1&sn=b4992bdc99041c6ed28d2d4cbb97fcdf&scene=24&srcid=0704sve2vdnaEZLHhJpwdmvx#wechat_redirect)
- [使用Leangoo玩转故事地图](http://mp.weixin.qq.com/s?__biz=MjM5OTg4MTQ2NA==&mid=402305632&idx=1&sn=0043526a37f3125c7790366990b2735b&scene=0#wechat_redirect)
- [Creating an Agile Road Map Using Story Mapping](https://www.scrumalliance.org/community/articles/2013/august/creating-an-agile-roadmap-using-story-mapping)

## 用户故事地图相关工具
- [SpecLog 需翻墙](Shttp://www.speclog.net/),一个与和BDD工具SpecFlow同属同一个公司的产品，收费客户端软件，适用Net平台，通过这个工具可以创建用户故事地图，好像是用VS画出来的图
- [realtimeboard](https://realtimeboard.com) 有免费帐号，可免费创建三个项目，每个项目只最多可以三人协作，已经试用，免费帐号可以导出PDF、图片、CSV
- [storiesonboard](http://storiesonboard.com/),没有免费帐号，可试用三十天，试用期间不限制功能。暂时没有时间试用
- [cardboardit](https://cardboardit.com/), 有免费帐号，没有项目限制，无多余的协作人
- [featuremap](https://www.featuremap.co/),没有试用，还不知道具体有什么功能，是否可以画用户故事地图
- [github上开源的工具，将xsl格式的用户故事地图转成HTML,基于py](https://github.com/manuCervello/excelToUserStoryMapping)
- [github上开源的工具，类似看板的一个JS页面，用NG做的，没什么实际用处](https://github.com/treshnikov/UserStoryMapping)
- 最后一个国产的，scrumcn出品，即上面的文章中的 使用Leangoo玩转故事地图


##代码分析技术相关资料
- Astyle：第三方代码格式化工具
- [vs2013里面的代码分析](https://blogs.msdn.microsoft.com/hkamel/2013/10/24/visual-studio-2013-static-code-analysis-in-depth-what-when-and-how/)
- [VS Code Analysis vs StyleCop + FxCop,stackoverflow](http://stackoverflow.com/questions/580168/visual-studio-code-analysis-vs-stylecop-fxcop)
- [vs2013 代码静态分析](https://visualstudiomagazine.com/articles/2013/12/01/static-code-analysis-in-vs-2013.aspx)
- 相关点：手工代码审查、手工/自动代码分析、代码度量、代码覆盖率、迁入时代码分析、单元测试、持续集成
- 其他类似工具有[CodeRush、 Resharper](http://blog.csdn.net/william_lv/article/details/49735889)
- 关于静态代码分析的介绍：[代码分析方法](http://blog.csdn.net/jznsmail/article/details/4804382)   [阐述静态代码分析方法及其优点和缺点](http://gamerboom.com/archives/49352)   [代码静态分析工具——splint的学习与使用](http://www.cnblogs.com/bangerlee/archive/2011/09/07/2166593.html)  [程序静态分析](http://blog.csdn.net/shengfeixiang/article/details/20407039) 

## 2016-06-01 回顾会议流程概要 
0. 会前工作，可以先做一些基础调查表，为促进成员的沟通，先要和管理层沟通保持低调，为保证全员参与，可以找一些平时比较活跃的托带动气氛。会议准备：打印签名表格、主持人引导文档、编写会议议程PPT并打印、通知参会人员带好手机和笔和纸。【计时人、会议纪要人、代理主持人、回顾会议基调监督人】

0. 在打印出来的签到表中签到，并勾选此刻的心情：【高兴	困惑	激动	好奇	失望	害怕	好玩	期待	不期待】 

1. 感谢大家抽时间参与，重点感谢忙的同事，感谢大家的支持，大家的支持让我更有动力去促成此事。向大家提问，对我来做主持有什么意见或者期望，现在是什么心情【如困惑、好奇、失望、开心，思考一分钟，签到时为什么是那样的心情？并预想一下此次回顾的结果，到后面在对比一下看是不是和预期的一样？】？指定一个人做回顾会议记录【小福利激励和引导】，表示会轮流执行。主持人有时候需要参与讨论，指定一个人监督，以避免陷入讨论中而忘了主持人的职责，主要是在有些问题没有被提及或发现时、在一些重要活动中需要转换一下角色时参与讨论。从这里引申出SM的职责，如下：？

- 介绍回顾会议, 让团队了解回顾会议的渊源和重要性:
	1. 人类为什么会进化？【通过交流、沟通、协作来改善所学的知识，不断进步,不断的适应当前的环境。你的（团队、组织、企业）目标是什么？通过目标驱动，动力来自于自我价值的实现，但是组织、企业不一样】。提问精益非常核心的一条原则是？ 【持续改进】，并引申出，是否需要敏捷培训，如果需要则另行安排时间培训。
    
	2. 如何持续改进？【不断的反思，不断的回顾】
    
   3. 我们做为一个团队，为什么要回顾？回顾的目的是？【学习团队成员优点、找到问题根源并改进、并付诸于行动】【降低交付的风险，更有效的决策，提升交付的质量，最大化交付的价值】
   
	4. 在敏捷里面，有一条原则尊重员工，其中一种解读是尊重员工的意见，保证所有人都有权利发言，回顾的过程中管理人员最好保持低调，重点放在引导成员讨论和参与决策（引导式，不断的提问），而且对于开回顾会议的时间需要尊重团队成员的意见，而不是通过领导的命令式和控制式的决策来确定时间（非工作时间），回顾会一定要在一个舒适、和谐的环境中开展，否则会大打折扣
    
	5. 提问：大家想不想进步，怎么样进步？【交流沟通协作，参与式决策】希望所有团队都参与进来，如果第一次不发言，以后也不会在有发言机会，请将不满释放出来【不要像金钟华】，引申出被动式和主动式的态度【主动式是快乐的，被动式是痛苦的，自行找出原因，不喜欢这个行业？是则无救】，因人而异，主动式者为人才，提倡主动思考，而不要像【李垠志，你叫我做什么就做什么】，同时解释为什么会有这种情况存在，是因为团队文和管理风格化所决定的，引申出命令式、控制式和引导式、仆人式的领导风格。【激励因素和保健因素，如何提高积极性？需要有环境支持
   
	6. 回顾会议希望多样化的团队参与，尽可能的将项目或产品整个生命周期相关人员都参与并，这也是为什么会延迟的原因，【后续需改进，一能一直延迟】【这次不发表意见，以后也不会有机会了】。回顾会议是按照一定的架构一步一步进行的，不希望中途参与或者中途中断或者开小差，而且确保所有与当前项目标相关的人员都到场，展示回顾会议步骤图片  
    
	10. 投票环节，可以采用扑克投票：【回顾会议的时间：5点8点？还是正常工作时间？或者建议什么时间？】【如果缺人时，投票决定是否需要等，如果是则散会或者等待】【“探索者”的投票环节】【对现状是否满足？】


- 介绍本次回顾会议的目标，分析当前项目的情况，找到问题的根源并解决他，重点关注工程实践【先从工程、技术实践做起，由内而外】。提问：大家觉得本次回顾的目标是什么？想改进哪方面的内容？
>	
	原因分为内部原因和外部原因，客观原因和主观原因，根本原因和直接原因，通过5W法分析列出各种类型的原因，最终找出根本原因，并试着去解决。不要把所有原因都归结为外部问题或者客观问题，先从内部改善做起，团队无法解决的，上报管理层解决，并持续跟进


- 介绍回顾会议的议程:
	1. 确定回顾基调和公约，设定奖罚规则，并安排人员监督
	2. 画出项目关键时间线，让大家回忆开发过程中的事件,并收集上来，事件分为好的和不好的，具体见第4、5点
	3. 归类好的地方，对成员做的好成员点赞，分析团队成员的优点或者为当前项目做出的贡献，给予鼓励和赞美，并动员其他成员学习，制定学		习计划（如果可以学习。可以在最后一步制定） ，好的地方需要保持，并定期检查
	4. 归类不好的事件，注意是事件结果，因为需要通过结果去分析根本原因 
	5. 讨论各个事件引起的原因，并提问：如果给一次重来的机会会做出怎样的决策？讨论：如何做出有效的决策？引申出 【为了达到这一目标，需要不断的学习来达到这一目标，而不是的拍脑袋来决定，即需要有探索者的精神（包括技术上和管理上）】。记录各个原因，并分析出根本原因
	6. 将问题归类，排序，选出最重要的（符合SMART原则）用于下一次改进，制定行动计划，定期检查执行情况
	7. 总结，询问感受和收获及对回顾的改进，将来如何更有效的改进回顾会议
      
   
- 确定回顾基调和公约，设定奖罚规则，并安排人员监督 
	1. 匿名活动：的探索者游戏，将可选项展示出来，让大家选择交统计，可通过QQ群匿名发言或者纸张来实现【打开ESVP.png图片】
		
		- 邀请一位成员做出统计并公布出来。注意匿名性，完成后将纸张当大家面仍到垃圾桶
		- 问大家;从结果中看出了什么含义？组织讨论论，这些态度对此次回顾会议会产生什么影响，可以分四人一组讨论然后汇总
		- 问大家：这几种心态与日常工作中的心态是否很相似？让成员讨论
		- 结果中有个囚徒，那可以给他一个机会，让他自己选择是否继续参与下去，并表示以后也没有机会参与了

	2. 一些常见的公约：手机调成静音、除非主持人要求大家使用手机否则不要玩手机、如果中途有客户电话先通知晚点在打过去、要求大家共同参与、不积极参与的人如何处理
   3. 让大家设定惩罚规则，如果违反需惩罚，惩罚可以是当大家的面做10个符合衬、或者给大家发个20的红包？等
   4. 安排监督人员，【有小福利，保蜜先，会后公布】
   5. 讨论中需要重点注意的：探询而不是辩护、对话、而不是争论、交流而不是争吵、理解而不是防备.四人一组，【公开活动：每组讨论一条原则，并派代表陈述小组的理解】   

- 画出项目关键时间线，让大家回忆开发过程中的事件，可以有好的和不好的,并收集上来，事件分为好的和不好的 【主要针对移动查验项目】
    
    1.  画出项目关键时间线，让大家回忆开发过程中的事件【打开项目时间线文件，20分钟】  
    
    1. 	三人或四人一组,从项目结束时开始写，向前回溯，各个时间段，讨论当时的事件或活动，并记录下来 。提醒大家从多角度来思考，把认为重要的事情记录下来【约十分钟】【可分为积极的一面，包括某个团队成员优秀的品质，并可供大家学习的；在技术实践相关、管理实践相关、团队协作相关等领域出现的相关事件和活动；还有在需求调研阶段、需求分析、设计、开发、测试、交付部署等阶段的事件和活动】。【每组发两张纸，一张用于写积极的一面，一张用于写不好的一面，在纸的最上面写上标题：好的，需改进的，要求字迹工整以便阅读，并在最右边划一线用于打勾】
    
    1. 	采用三个五的方法收集，不大于五个人的小组，每个人花不超过五分钟的时间在纸上写下内容，然后传递给下一个组员，下一个组员在其基础上添加或补充其他内容，这样不超过五轮来收集内容 
    
    1.  完成后每人都阅读纸上的想法。主持人将写好的收上来，并编好序号，然后向下一个人传递，个人可以在每一条的内容上找五条出来自己最认同最有共鸣并重要的并打上勾，直到所有纸回到主持人手中为止
    
    1.  根据收集结果讨论：讨论最突出的、共鸣最强烈的、最重要的事件或活动，先从好的入手，让大家可以相互学习的【好的和不好的】
    
    1.  汇总所有好的意见，用于大家互相学习，重点选五条用于学习，如果是团队好的方面则继续Keep
     
    1.  讨论不好的事件或活动，根据重要程度采用5W法分析根本原因，将分析出来的原因归类，并记录下来
    
    1.  汇总所有意见，可分为Keep 需保持的好的方面、正在改变的、Try需要偿试改变的、团队短期内无能为力的，需要定一个跟踪人，定期反馈
  
    1.  最后小结，哪些主题没有涉及到？哪一主题需要后续继续分析？记录下来并在下次继续讨论
    
- 总结，询问感受和收获及对回顾的改进，将来如何更有效的改进回顾会议，用一张纸写一下，还是按小组的形式，可以先讨论一下汇总到一张纸里面。推荐【敏捷回顾这本书】

   


## 2016-05-11 ABP Odata WebAPI，通过postman post 新增数据，DateTime如果不按格式：【2016-05-09T00:00:00+08:00或者2016-05-09】 传递会有报下面的错误：
>{
  "error": {
    "code": "",
    "message": "The request is invalid.",
    "innererror": {
      "message": "entity : 无法将文本“2016-05-10 00:00:00”转换为正确的类型“Edm.DateTimeOffset”。\r\n",
      "type": "",
      "stacktrace": ""
    }
  }
}


解决办法：重载 ExecuteAsync（AbpODataEntityController），添加以下代码：
>			   var config = System.Web.Http.GlobalConfiguration.Configuration;
            var jsonFormatter = config.Formatters.OfType<JsonMediaTypeFormatter>().FirstOrDefault();
            //controllerContext.Configuration.Formatters.Insert(0, jsonFormatter);
 可以暂时解决，原因不详，有可能是找不到对应的JSON序列化器，采用了Odata的，不知是否与ABP 实现ODATA的方式有关。奶奶的花了一上午时间解决
 
## 2016-04-25 SequoiaDB_分布式数据库 ppt 知识点分析
[来源: SequoiaDB_分布式数据库_王涛_微软MVP ppt](http://pan.baidu.com/s/1qXOAOmo) 
参考： [数据仓库杂谈](http://blog.csdn.net/cajeep2001/article/details/8030405)

数据质量的分层测试：包括odl(源数据层)、bdl（基础数据层）、idl（接口数据层）、adl（应用数据层）

### 1.关于数据库设计--范式与反范式设计思考 [参考：范式与反范式的设计](http://www.daniel-journey.com/archives/519)

#### 反范式设计使用场景：对不可改变数据的反模式设计，如 将多张表合并成一张
#### 正范式设计使用场景：即传统的范式化设计，折表，范式化节省了存储空间，但存储空间却很便宜；范式化简化了更新，但读更普遍

### 2.关于MPP数据库massively parallel processing：是将任务并行的分散到多个服务器和节点上，在每个节点上计算完成后，将各自部分的结果汇总在一起得到最终的结果
参考： [MPP数据库 技术浅析](http://database.ctocio.com.cn/326/12953326.shtml)   [数据仓库技术中的MPP](http://www.dedecms.com/knowledge/data-base/generalized/2012/0703/2510.html)  [Hadoop将取代MPP，混合架构即将消失](http://www.d1net.com/bigdata/news/346918.html)
#### 数据仓库世界里面的 massively parallel processing 大概定义：
首先MPP 必须消除手工切分数据的工作量。 这是MySQL 在互联网应用中的主要局限性。另外MPP 的切分必须在任何时候都是平均的 ， 不然某些节点处理的时间就明显多于另外一些节点。对于工作负载是不是要平均分布有同种和异种之分，同种就是所有节点在数据装载的时候都同时转载，异种就是可以指定部分节点专门用来装载数据（逻辑上的不 是物理上） ， 而其他所有节点用来负责查询。 Aster Data 和Greenplum 都属于这种。 两者之间并没有明显的优势科研，同种的工作负载情况下，需要软件提供商保证所有节点的负载是平衡的。 而异种的工作负载可以在你觉得数据装载很慢的情况下手工指定更多节点装载数据
#### MPP数据库解决的问题与分布式数据库类似，从发展历程来说分布式数据库是从MPP演进而来的，特征如下：
- 任务并行执行;
- 数据分布式存储(本地化);
- 分布式计算;
- 私有资源;
- 横向扩展;
-  Shared Nothing架构，不共享资源


### 3.ODS与ETL,ODS 是业务数据与仓库的中间层，参考 [数据仓库之ETL漫谈](http://blog.csdn.net/heqiyu34/article/details/8502198)
ODS（Operational Data Store）介绍：

> ODS（Operational Data Store）是数据仓库体系结构中的一个可选部分，ODS具备数据仓库的部分特征和OLTP系统的部分特征，它是“面向主题的、集成的、当前或接近当前的、不断变化的”数据。
ODS是一个面向主题的、集成的、可变的、当前的细节数据集合，用于支持企业对于即时性的、操作性的、集成的全体信息的需求。
Kimball关于ODS的定义（<<数据仓库生命周期工具集>>）,–是操作型系统中的集成，用于当前、历史以及其它细节查询(业务系统的一部分)–为决策支持提供当前细节数据(数据仓库的一部分)。  参考如下图：
![](http://img.blog.csdn.net/20130918170007531?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbWFjazQxNTg1ODc3NQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)


- 在业务系统和数据仓库之间形成一个隔离层
> 一般的数据仓库应用系统都具有非常复杂的数据来源，这些数据存放在不同的地理位置、不同的数据库、不同的应用之中，从这些业务系统对数据进行抽取并不是一件容易的事。因此，ODS用于存放从业务系统直接抽取出来的数据，这些数据从数据结构、数据之间的逻辑关系上都与业务系统基本保持一致，因此在抽取过程中极大降低了数据转化的复杂性，而主要关注数据抽取的接口、数据量大小、抽取方式等方面的问题。


- 转移一部分业务系统细节查询的功能
> 在数据仓库建立之前，大量的报表、分析是由业务系统直接支持的，在一些比较复杂的报表生成过程中，对业务系统的运行产生相当大的压力。ODS的数据从粒度、组织方式等各个方面都保持了与业务系统的一致，那么原来由业务系统产生的报表、细节数据的查询自然能够从ODS中进行，从而降低业务系统的查询压力。


- 完成数据仓库中不能完成的一些功能
> 一般来说，带有ODS的数据仓库体系结构中，DW层所存储的数据都是进行汇总过的数据，并不存储每笔交易产生的细节数据，但是在某些特殊的应用中，可能需要对交易细节数据进行查询，这时就需要把细节数据查询的功能转移到ODS来完成，而且ODS的数据模型按照面向主题的方式进行存储，可以方便地支持多维分析等查询功能。在一个没有ODS层的数据仓库应用系统体系结构中，数据仓库中存储的数据粒度是根据需要而确定的，但一般来说，最为细节的业务数据也是需要保留的，实际上也就相当于ODS，但与ODS所不同的是，这时的细节数据不是“当前、不断变化的”数据，而是“历史的，不再变化的”数据。


## 2016-04-15 关于ABP、EF、MySQL的实践-有一个新项目，比较合适用ABP开发，但遇到一些问题，这里记录一下如何解决的
[关于ABP-博客园ABP专题](http://www.cnblogs.com/farb/p/ABPTheory.html)      [ABP总体介绍](http://www.cnblogs.com/mienreal/p/4528641.html)  

- 目标：基于现有数据库，通过工具生成DbContext、EF实体和实体映射，因为想生成干净的实体，试过很多方法，最终还是采用CodeSmith达成目标了。
- 数据为中心：因为国内大都是采用数据为中心的开发模式，即项目一上来就是设计数据库，鲜有以模型为中心，采用OO的方式来做分析和设计的.
- Model First：其实采用这种方式可以用Model First的方式，即 数据库->EDMX->T4模析(VS自带)->代码 来生成实体、映射和上下文代码。这种方式生成的实体映射是Data Annotations 的方式(特性来映射)，而不是二次的实体，想自己改T4模板又比较麻烦，T4模板想编辑要装一个VS插件才比较顺手，有智能感应，调试，但是收费的，最终放弃。
- [EF 5.x DbContext Fluent Generator for C#](https://visualstudiogallery.msdn.microsoft.com/5d663b99-ed3b-481d-b7bc-b947d2457e3c/)： 然后狂抓Github,发现一款t4 模板,可以通过EDMX模型文件生成 实体、映射、上下文代码---[EF 5.x DbContext Fluent Generator for C#](https://visualstudiogallery.msdn.microsoft.com/5d663b99-ed3b-481d-b7bc-b947d2457e3c/)坑爹的是这个比较旧了，不支持EF6 和VS2013、2015，然后通过上面的评论看到有人移植到EF6了 [下载地址](http://sdrv.ms/1dN6c5S),弄下来后，vs2013要改下里面的引用的VS版本（VS120COMNTOOLS）,VS2013是12，vs2015是15.一切弄好了，连上数据库（先得装[MYSQL驱动](http://dev.mysql.com/downloads/connector/net/)和[MYSQL FOR VS TOOLS](http://dev.mysql.com/downloads/windows/visualstudio/)）,这套t4模板勉强能用，缺陷就是依赖EDMX，类名和字段名按规则生成需要改模板。最终还是放弃。
- [EF Power tools](https://visualstudiogallery.msdn.microsoft.com/72a60b14-1581-4b9b-89f2-846072eff19d)：然后继续找，发现工具[EF Power tools](https://visualstudiogallery.msdn.microsoft.com/72a60b14-1581-4b9b-89f2-846072eff19d)有个反向工程的功能-通过右键项目->Entity Framework->Reverse Engine Code First->连接MySQL数据(需安装MYSQL驱动和VS工具) 来生成代码（但是不支持VS2015，[在评论中有人已经适配好](http://1drv.ms/1RWxOsb)），但是 无法自定义模板，虽然有另外一个菜单 Customize Reverse Engineer Templates 会生成t4模板到项目中，但还是然并卵，无法直接生成代码(报错，可能是模板的HOST与VS的HOST不一样)，查资料也不找到相关说明，最终还是放弃！
- [EntityFramework Reverse POCO Code First Generator](https://github.com/sjh37/EntityFramework-Reverse-POCO-Code-First-Generator)：继续抓Github，发现一款插件：[EntityFramework Reverse POCO Code First Generator](https://github.com/sjh37/EntityFramework-Reverse-POCO-Code-First-Generator),这个工具挺好的，但是但是 不支持MySQL，只支持MSSQL、SQLCE！坑！看了下代码，发下读取DB Schema是作者自己写的，又重复造轮子了。[于是给提了个问题](https://github.com/sjh37/EntityFramework-Reverse-POCO-Code-First-Generator/issues/26)，不知啥时候才支持其他库,最终放弃。
- [Code Smith](www.codesmithtools.com): 最后突发奇想，看看CodeSmith行不行，一找，我去，CodeSmith果然强大啊，不但能生成，而且支持所有主流数据库，都有源码可以修改，模板也非常好修改（添加注释，添加MYSQL支持，其实原来就支持，只是做了些修整），虽然不是t4,总之是非常的方便。最后最后 最新版还可以破解！爽！Code Smith下载：[CSDN绿色版](http://download.csdn.net/detail/yashua839/8608875),注意，最好去官方下载MSI安装包，在用下载包里面的破解工具激活，亲测试可用（千万要注意不要运行绿色版的程序，运行安装后的程序！），因为还有VS插件，与VS集成好后生成代码非常方便！正好清明假期，研究了下模板，最后成功生成漂亮的代码！模板文件晚些时候传到GitHub上去！CodeSmith在使用的过程中，有个小问题，在配置的地方把某些字段排除后(如ID，因为ID主键和其他通用的属性和映射会放在ABP基类)，会导致ID属性不生成，EF的导航属性生成会受影响！

- 总结：最后，如果能用标准的Code First方式来开发项目，也是非常不错的，这种方式个人觉得需要引入敏捷开发流程，以领域为中心的分析与设计模式，才能执行下去。但是这种方式对开发人员的要求稍高，必须一个经验丰富的Team Leader引导并主导设计过程！理想情况：识别目标、范围、价值、关键干系人->分析主要业务流程->流程需要的所有服务(单步的、组合的，或业务服务、基础设施服务)->从服务中识别领域->分析领域之间的关系->丰富领域属性状态->设计类图->分析领域行为->完整的领域模型(属性、状态、行为)->实体模型 

## 2016-04-15 领域分析方法-即DDD的战术分析
- 1 领域建模项目通常包括以下步骤(业务分析时)：
   - 首先为业务流程建模并文档化。 
   - 选择一个候选的业务流程，与业务领域专家一起使用通用语言来文档化业务流 程。 
   - 识别候选业务流程需要的所有服务。这些服务本质上可以是原子的（单步的） 或组合好的（多步的，有无工作流皆可）。它们也可以是业务（比如承保或资 金）或基础设施（比如电子邮件或工作调度）。对上一步识别的服务所使用的对象，确定并文档化其状态和行为。 一开始关注业务领域核心元素的时候，就将模型保持在高水平是非常重要的。

- 2 真实的 DDD 实现项目和其它软件开发项目所包含的阶段是一 样的。这些阶段包括：
    - 对领域进行建模 ,识别核心领域模型->识别服务(属于三种类型的哪种?)->模型状态(变化及场景)->关联模型(包含和组合)->相关的值对象->细化属性
    - 设计 
    - 开发 
    - 单元测试和集成测试 
    - 基于设计和开发来完善、重构领域模型（模型概念的持续集成（CI））。 
    - 使用更新的领域模型重复上述步骤（领域实现的 CI）。

- 3 业务规则
    - 是业务领域中的重要部分。它们定义了数据验证和其它的约束规则，这些规则 需要应用于特定业务流程场景中的领域对象。业务规则通常分为下面几类：
    - 数据验证
    - 数据转换
    - 商业决策 
    - 流程流向（工作流逻辑）
